<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>Bank2Contract Deploy on NODE2 (PrivateFor NODE1, NODE6)</title>
    <style>
        pre {
            background: #E0F2F7;
        }
    </style>
</head>

<body translate="no">

<h4>log : </h4>
<pre id="log"></pre>

<script src='web3.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js'></script>

<script>
    function log(input) {
        if (typeof input === 'object')
            $('#log').text($('#log').text() + JSON.stringify(input, null, 2) + '\n')
        else
            $('#log').text($('#log').text() + input + '\n')
    }

    $(function() {

        var web3 = new Web3(new Web3.providers.HttpProvider('http://localhost:22000'))
        var eth = web3.eth;


        var key_Bank1 = "BULeR8JyUWhiuuCMU/HLA0Q5pzkYT+cHII3ZKBey3Bo="
        var key_Bank2 = "QfeDAys9MPDs2XHExtc84jKGHxZg/aj52DTh0vtA3Xc="
        var key_Bank3 = "1iTZde/ndBHvzhcl7V68x44Vx7pl8nwx9LqnM/AfJUg="
        var key_Bank4 = "oNspPPgszVUFw0qmGFfWwh1uxVUXgvBxleXORHj07g8="
        var key_Bank5 = "R56gy4dn24YOjwyesTczYa8m5xhP6hF2uTMCju/1xkY="
        var key_Bank6 = "UfNSeSGySeKg11DVNEnqrUtxYRVor4+CvluI8tVv62Y="
        var key_Bank7 = "ROAZBWtSacxXQrOe3FGAqJDyJjFePR5ce4TSIzmJ0Bc="

        //var _brokerAccount = "0x20304b28001a5484e34bbbf7e04ef94439149826"; /* var of type address here */ ;
        var transactionmatcherContract = web3.eth.contract(

            [{"constant":true,"inputs":[{"name":"_securities_id","type":"bytes32"},{"name":"_paydate","type":"uint256"}],"name":"shouldPayInterest","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_securities_id","type":"bytes32"}],"name":"getPayDatesListLength","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_securities_id","type":"bytes32"},{"name":"_paydateCnt","type":"uint256"},{"name":"_serno","type":"uint256"},{"name":"_paydate1","type":"uint256"},{"name":"_paydate2","type":"uint256"},{"name":"_paydate3","type":"uint256"},{"name":"_paydate4","type":"uint256"},{"name":"_paydate5","type":"uint256"},{"name":"_paydate6","type":"uint256"},{"name":"_paydate7","type":"uint256"}],"name":"setInterestsPaydates","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"_securities_id","type":"bytes32"},{"name":"index","type":"uint256"}],"name":"getPayDatesList","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"_securities_id","type":"bytes32"},{"name":"_paydate","type":"uint256"}],"name":"checkInterestsPaydates","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"_securities_id","type":"bytes32"},{"name":"_paydate","type":"uint256"},{"name":"_hasPaidInterest","type":"bool"}],"name":"setShouldPayInterest","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_securities_id","type":"bytes32"}],"name":"EventForSetInterestsPaydates","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_securities_id","type":"bytes32"},{"indexed":false,"name":"_paydate","type":"uint256"},{"indexed":false,"name":"_hasPaidInterest","type":"bool"}],"name":"EventSetShouldPayInterest","type":"event"}]

             );
        var transactionmatcher = transactionmatcherContract.new(
            {
                from: "0xed9d02e382b34818e88b88a309c7fe71e65f419d",
                data: '0x6060604052341561000f57600080fd5b336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550610a858061005e6000396000f300606060405260043610610078576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063124122941461007d5780632183ec07146100c55780634018337d146101005780637b2e6686146101785780638ad48b6f146101bc578063be99ab1414610204575b600080fd5b341561008857600080fd5b6100ab60048080356000191690602001909190803590602001909190505061023f565b604051808215151515815260200191505060405180910390f35b34156100d057600080fd5b6100ea600480803560001916906020019091905050610289565b6040518082815260200191505060405180910390f35b341561010b57600080fd5b6101766004808035600019169060200190919080359060200190919080359060200190919080359060200190919080359060200190919080359060200190919080359060200190919080359060200190919080359060200190919080359060200190919050506102b4565b005b341561018357600080fd5b6101a6600480803560001916906020019091908035906020019091905050610800565b6040518082815260200191505060405180910390f35b34156101c757600080fd5b6101ea600480803560001916906020019091908035906020019091905050610844565b604051808215151515815260200191505060405180910390f35b341561020f57600080fd5b61023d600480803560001916906020019091908035906020019091908035151590602001909190505061088e565b005b6000600260010160008460001916600019168152602001908152602001600020600201600083815260200190815260200160002060009054906101000a900460ff16905092915050565b6000600260010160008360001916600019168152602001908152602001600020600101549050919050565b60008060008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561031457600080fd5b6002800160008e6000191660001916815260200190815260200160002060009054906101000a900460ff1615156103c4576002600001805480600101828161035c919061098b565b916000526020600020900160008f9091909150906000191690555060016002800160008f6000191660001916815260200190815260200160002060006101000a81548160ff021916908315150217905550600160008154809291906001019190505550610565565b60018b141561056457600092505b600260010160008e600019166000191681526020019081526020016000206001015483101561050d57600260010160008e600019166000191681526020019081526020016000206000018381548110151561042957fe5b9060005260206000209001600090556000600260010160008f600019166000191681526020019081526020016000206003016000848481548110151561046b57fe5b906000526020600020900154815260200190815260200160002060006101000a81548160ff0219169083151502179055506000600260010160008f60001916600019168152602001908152602001600020600201600084848154811015156104cf57fe5b906000526020600020900154815260200190815260200160002060006101000a81548160ff02191690831515021790555082806001019350506103d2565b6000600260010160008f600019166000191681526020019081526020016000206000018161053b91906109b7565b506000600260010160008f60001916600019168152602001908152602001600020600101819055505b5b8982600081548110151561057557fe5b9060005260206000209001819055508882600181548110151561059457fe5b906000526020600020900181905550878260028154811015156105b357fe5b906000526020600020900181905550868260038154811015156105d257fe5b906000526020600020900181905550858260048154811015156105f157fe5b9060005260206000209001819055508482600581548110151561061057fe5b9060005260206000209001819055508382600681548110151561062f57fe5b906000526020600020900181905550600090505b8b8110156107b257600260010160008e6000191660001916815260200190815260200160002060010160008154809291906001019190505550600260010160008e6000191660001916815260200190815260200160002060000180548060010182816106af91906109e3565b9160005260206000209001600084848154811015156106ca57fe5b906000526020600020900154909190915055506001600260010160008f600019166000191681526020019081526020016000206003016000848481548110151561071057fe5b906000526020600020900154815260200190815260200160002060006101000a81548160ff0219169083151502179055506001600260010160008f600019166000191681526020019081526020016000206002016000848481548110151561077457fe5b906000526020600020900154815260200190815260200160002060006101000a81548160ff0219169083151502179055508080600101915050610643565b7f4db95b2f516162f976afc470e7965ec533393aeb5a10ecca4116f05dc3c105c88d60405180826000191660001916815260200191505060405180910390a150505050505050505050505050565b60006002600101600084600019166000191681526020019081526020016000206000018281548110151561083057fe5b906000526020600020900154905092915050565b6000600260010160008460001916600019168152602001908152602001600020600301600083815260200190815260200160002060009054906101000a900460ff16905092915050565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156108e957600080fd5b80600260010160008560001916600019168152602001908152602001600020600201600084815260200190815260200160002060006101000a81548160ff0219169083151502179055507f7375d7f3a35fa2eadfe1ab4aaccf6866c91f5b281e11f50c84771020fe8c6ee383838360405180846000191660001916815260200183815260200182151515158152602001935050505060405180910390a1505050565b8154818355818115116109b2578183600052602060002091820191016109b19190610a0f565b5b505050565b8154818355818115116109de578183600052602060002091820191016109dd9190610a34565b5b505050565b815481835581811511610a0a57818360005260206000209182019101610a099190610a34565b5b505050565b610a3191905b80821115610a2d576000816000905550600101610a15565b5090565b90565b610a5691905b80821115610a52576000816000905550600101610a3a565b5090565b905600a165627a7a72305820a62245b9c9ca62988922ee1ff9d3758cb7b6ad7d3d737e5112aa1ce29820d91d0029',
                gas: '8000000',
                privateFor: [
                    //key_Bank2,
                    //key_Bank3,
                    //key_Bank4,
                    //key_Bank5,
                    //key_Bank6,
                    //key_Bank7
                ]

            },
            function(e, contract) {

                if (typeof contract.address !== 'undefined') {
                    log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash)

                }
            })

    })
</script>
</body>

</html>
